# 照片管理应用

这是一个使用 Flutter 开发的照片管理应用，集成了人脸识别功能。

## 项目需求

1. 照片管理和浏览功能
   - 支持从设备选择多张照片
   - 支持拖放添加照片
   - 网格视图展示照片

2. 人脸识别功能
   - 使用 ArcFace 模型进行人脸识别
   - 支持识别从婴儿到老年人的不同年龄段人脸
   - 能够处理侧脸和不同表情的人脸

3. 用户界面
   - 左侧栏显示检测到的唯一人脸
   - 点击左侧栏的人脸可以过滤显示包含该人脸的照片
   - 主视图显示照片网格，支持缩放和拖动

4. 性能和隐私
   - 所有处理在本地进行，保护用户隐私
   - 优化大量照片的处理性能

## 技术栈

- Flutter：用于开发跨平台应用
- C++：用于实现人脸识别算法
- OpenCV：用于图像处理和人脸检测
- ONNX：用于部署深度学习模型
- CMake：用于构建 C++ 项目

## 已完成工作

1. 搭建基本的 Flutter 应用结构
2. 实现照片选择和显示功能
3. 集成 C++ 代码进行人脸识别
4. 使用 ArcFace 模型进行人脸特征提取
5. 实现人脸比较和过滤功能
6. 优化项目结构，处理依赖冲突

## 待完成工作

1. 优化大规模照片处理的性能
2. 改进用户界面，提升用户体验
3. 实现增量学习，提高识别准确率
4. 添加更多的照片管理功能（如标签、分类等）

## 依赖

- Flutter
- OpenCV
- ONNX Runtime

## 安装

1. 确保您已安装 Flutter 和 Dart。
2. 克隆此仓库。
3. 运行 `flutter pub get` 安装依赖。
4. 确保 `assets` 目录中包含所需的模型文件（deploy.prototxt, res10_300x300_ssd_iter_140000.caffemodel, arcface_model.onnx）。
5. 编译 C++ 代码（详见 `face_recognition/CMakeLists.txt`）。

## 使用

运行 `flutter run` 启动应用。

## 注意事项

- 确保 `assets` 目录中包含所有必要的模型文件
- 首次运行时，人脸识别可能需要一些时间来处理照片
- 项目仍在开发中，部分功能可能不完整或存在 bug

## 贡献

欢迎提交 Issue 或 Pull Request 来改进这个项目。

## 许可

请确保您有权使用和分发所有模型文件。

[MIT License](LICENSE)